<mule xmlns="http://www.mulesource.org/schema/mule/core/2.2"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:sftp="http://www.mulesource.org/schema/mule/sftp/2.2"
      xmlns:vm="http://www.mulesource.org/schema/mule/vm/2.2"
      xsi:schemaLocation="
               http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
               http://www.mulesource.org/schema/mule/core/2.2 http://www.mulesource.org/schema/mule/core/2.2/mule.xsd
               http://www.mulesource.org/schema/mule/sftp/2.2 http://www.mulesource.org/schema/mule/sftp/2.2/mule-sftp.xsd
               http://www.mulesource.org/schema/mule/vm/2.2 http://www.mulesource.org/schema/mule/vm/2.2/mule-vm.xsd">

  <sftp:connector name="sftp">
  </sftp:connector>

  <model name="main">
    <service name="testComponent">
      <inbound>

        <sftp:inbound-endpoint
                identityFile="/home/lh/.ssh/id_rsa-user3" passphrase="2" address="sftp://user3@localhost/data2"
                autoDelete="true" pollingFrequency="3000"/>
      </inbound>


      <!--<log-component/>-->
      <component>
        <!--  this is to verify the data coming in on the endpoint -->
        <singleton-object class="org.mule.tck.functional.FunctionalTestComponent"/>
      </component>

      <outbound>
        <pass-through-router>
          <sftp:outbound-endpoint address="sftp://user2@localhost/data-out"
                                  identityFile="/home/lh/.ssh/id_rsa-user2" passphrase="user2"/>
        </pass-through-router>
      </outbound>

    </service>
  </model>


  <!--

   <sftp-identityFile name="ereception" identityFile="/home/lenhag/.ssh/id_rsa-user3" passwd="foo" />
   <sftp:inbound-endpoint identityFile="ereception" address="sftp://user1@localhost/data2" />


  <sftp:inbound-endpoint identityFile="/home/lenhag/.ssh/id_rsa-user3" host="localhost" path="/outbox" />
  <sftp:outbound-endpoint identityFile="/home/lenhag/.ssh/id_rsa-user2" host="localhost" path="/inbox" />

  <sftp:inbound-endpoint identityFile="/home/lenhag/.ssh/id_rsa-user3" passPhrase="${foo}" address="sftp://user1@localhost/data2" />

  -->


</mule>



